<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>homeassistant on Eddy&#39;s Homepages</title>
    <link>https://eddyshomepages.github.io/categories/homeassistant/</link>
    <description>Recent content in homeassistant on Eddy&#39;s Homepages</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <lastBuildDate>Sun, 30 Jul 2023 00:00:00 +0000</lastBuildDate><atom:link href="https://eddyshomepages.github.io/categories/homeassistant/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>RuuviTag BLE -integraation käyttöönotto Docker-Composen avulla asennetussa Home Assistantissa</title>
      <link>https://eddyshomepages.github.io/posts/ruuvitag-ble-integraation-kayttoonotto-docker-composen-avulla-asennetussa-home-assistantissa/</link>
      <pubDate>Sun, 30 Jul 2023 00:00:00 +0000</pubDate>
      
      <guid>https://eddyshomepages.github.io/posts/ruuvitag-ble-integraation-kayttoonotto-docker-composen-avulla-asennetussa-home-assistantissa/</guid>
      <description>Minulla oli aikaisemmin RuuviTag -anturit yhdistettynä Home Assistantiin RuuviTag Discovery nimisen ohjelmiston avulla, josta myös aikoinaan kirjoitin jutun. Viime aikoina tämä konfiguraatio on kuitenkin alkanut enemmän ja enemmän temppuilemaan. Tämä johtunee ilmeisesti siitä, että node.js -paketteihin on tullut päivityksiä, joiden kanssa Ruuvitag Discovery ei enää oikein toimi kunnolla.
Tästä syystä aloin miettimään, että miten anturit olisi järkevä liittää Home Assistantiin, koska minulla ei ole esim. Ruuvi Gateway:tä käytössä. Home Assistantissa on kuitenkin nykyisin olemassa RuuviTag BLE -integraatio, jonka vuoksi aloin selvittämään, että miten anturit saisi lisättyä järjestelmään sen avulla.</description>
    </item>
    
    <item>
      <title>Sadevesimittarin tuunaus Zigbee-verkkoon sopivaksi</title>
      <link>https://eddyshomepages.github.io/posts/sadevesimittarin-tuunaus-zigbee-verkkoon-sopivaksi/</link>
      <pubDate>Tue, 20 Jun 2023 00:00:00 +0000</pubDate>
      
      <guid>https://eddyshomepages.github.io/posts/sadevesimittarin-tuunaus-zigbee-verkkoon-sopivaksi/</guid>
      <description>Seuraavaksi ajattelin kirjoittaa aiheesta, joka liittyy Home Assistantin lisäksi myös hiukan elektroniikkaan. Tarkoituksena on tuunata sadevesimittaria sellaiseksi, että se voidaan liittää Zigbee -verkkoon. Innostuksen tähän sain, kun luin vastaavanlaisesta muutoksesta Home Assistantin keskustelupalstalta, johon linkki https://community.home-assistant.io/t/diy-zigbee-rain-gauge/255379. Pienenä varoituksen sanana myös, että tämän muutostyön yhteydessä tarvitaan juotoskolvia.
Mitä tarvitaan? Link to heading Tarvikkeina tarvitaan jokin sadevesimittari, joka minulla on tällainen MTX Basic langanton sadevesimittari (HUOM! ei ole maksettu mainos) sekä Zigbee -verkkoon liitettävä ovi- ja ikkuna -anturi, kuten esimerkiksi Aqara, joka minulla on käytössä.</description>
    </item>
    
    <item>
      <title>MotionEye kameravalvonta -ohjelmiston asennus</title>
      <link>https://eddyshomepages.github.io/posts/motioneye-kameravalvonta-ohjelmiston-asennus/</link>
      <pubDate>Sun, 21 May 2023 00:00:00 +0000</pubDate>
      
      <guid>https://eddyshomepages.github.io/posts/motioneye-kameravalvonta-ohjelmiston-asennus/</guid>
      <description>Tässä kirjoituksessa ajattelin kirjoittaa MotionEye -kameravalvonta -ohjelmiston asennuksesta RaspberryPi 3 -tietokoneelle. MotionEye on myös siitä mukava, että se toimii Home Assistantin kanssa hyvin yhteen ja kameroista saa tehtyä esim. liiketunnistimet Home Assistantiin samalla, kun ne hoitavat kameran virkaa.
Toki näitä vastaavia kameravalvonta -ohjelmistoja on muitakin, kuten esim. ZoneMinder, Shinobi ja Agent DVR (ent. iSpy), jotka toimivat myös hyvin Home Assistantin kanssa.
MotionEye -sovelluksen on alun perin kehittänyt Calin Crisan, joka ei enää jatka ohjelmiston kehittämistä, vaan kehityksestä vastaa jatkossa uusi tiimi.</description>
    </item>
    
    <item>
      <title>Home Assistantin käyttö hälytysjärjestelmänä, osa 2</title>
      <link>https://eddyshomepages.github.io/posts/home-assistantin-kaytto-halytysjarjestelmana-osa-2/</link>
      <pubDate>Fri, 31 Mar 2023 00:00:00 +0000</pubDate>
      
      <guid>https://eddyshomepages.github.io/posts/home-assistantin-kaytto-halytysjarjestelmana-osa-2/</guid>
      <description>Seuraavaksi ajatteli jatkaa tarinaa Home Assistantin käytöstä hälytysjärjestelmänä. Tässä tarinassa käyn läpi RFID-lukijan tekemisen ja liittämisen Home Assistantiin siten, että RFID- tagilla tai -kortilla voi laittaa hälyt päälle ja ottaa ne pois päältä.
Materiaalina tarvitaan RFID-lukija, RFID -tagi sekä jokin ESP8266 -mikrokontrolleri. Minulla on RFID -lukijana joy-it RFID-RC522 -lukija ja mikrokontrollerina Wemos D1 Mini lähinnä sen pienuuden vuoksi. Mikrokontrollerissa käytän firmiksenä ESPHome -firmwarea, koska se on hyvin yhteensopiva Home Assistantin kanssa.</description>
    </item>
    
    <item>
      <title>Sähkön kulutuksen seurantaa ESP8266:n, ESPHomen ja Home Assistantin avulla</title>
      <link>https://eddyshomepages.github.io/posts/sahkon-kulutuksen-seurantaa-esp8266-esphomen-ja-home-assistantin-avulla/</link>
      <pubDate>Wed, 01 Mar 2023 00:00:00 +0000</pubDate>
      
      <guid>https://eddyshomepages.github.io/posts/sahkon-kulutuksen-seurantaa-esp8266-esphomen-ja-home-assistantin-avulla/</guid>
      <description>Tämä tarina on oikeastaan jatkoa aikaisemmalle jutuille ja liittyy hyvin paljon Home Assistantiin, sähkön kulutuksen seurantaan ja myös edellisessä kirjoituksessa olleeseen ESPHome -firmikseen.
Minä en ole tullut hankkineeksi mitään valmista mittausanturia, jolla voisin seurata kotini sähkönkulutusta. Olen ratkaissut tämän siten, että olen itse tehnyt tällaisen pulssianturin käyttäen ESP8266 -pohjaista mikrokontrolleria, LM393 Light Sensor -valoanturia (ei ole maksettu mainos) sekä firmiksenä ESPHomea. HUOM! Valoanturin tulee olla malliltaan nimen omaan fotodiodi, eikä LDR -moduuli.</description>
    </item>
    
    <item>
      <title>Näin rakennat oman kotiautomaatiojärjestelmän RaspberryPi:n ja Home Assistantin avulla</title>
      <link>https://eddyshomepages.github.io/posts/nain-rakennat-oman-kotiautomaatiojarjestelman-raspberrypin-ja-home-assistantin-avulla/</link>
      <pubDate>Wed, 01 Feb 2023 00:00:00 +0000</pubDate>
      
      <guid>https://eddyshomepages.github.io/posts/nain-rakennat-oman-kotiautomaatiojarjestelman-raspberrypin-ja-home-assistantin-avulla/</guid>
      <description>Seuraavaksi ajattelin vetää yhteen aikaisempia kirjoituksia ja tehdä yhteenvedon siitä, miten kuka tahansa voi rakentaa oman kotiautomaatiojärjestelmän RaspberryPi:n ja Home Assistantin avulla.
Asennuksessa käyn läpi kaksi eri vaihtoehtoa eli vaihtoehto 1, joka on helppo asennus tai vaihtoehto 2, joka on haastavampi tapa. Tässä kirjoituksessä keskitytään enemmän vaihtoehtoon 2.
Mikäli Home Assistantin pystyttää vaihtoehdon 1 mukaisesti, niin tällöin ei juurikaan tarvitse Linux -tuntemusta, mutta jos haluaa tehdä asioita pääte -tasolla, niin tällöin on kuitenkin hyvä tietää jotakin yaml -kielestä.</description>
    </item>
    
    <item>
      <title>Home Assistantin käyttö hälytysjärjestelmänä, osa 1</title>
      <link>https://eddyshomepages.github.io/posts/home-assistantin-kaytto-halytysjarjestelmana-osa-1/</link>
      <pubDate>Mon, 23 Jan 2023 00:00:00 +0000</pubDate>
      
      <guid>https://eddyshomepages.github.io/posts/home-assistantin-kaytto-halytysjarjestelmana-osa-1/</guid>
      <description>Seuraavaksi ajattelin kirjoittaa Home Assistantin käyttämisestä hälytysjärjestelmänä ja haluan myös heti jo tässä vaiheessa huomauttaa, että minä en kuitenkaan ota vastuuta siitä, jos joku henkilö tulee ja pääsee murtautumaan sisälle sen perusteella, että on järjestelmää rakentanut näiden minun ohjeiden mukaisesti.
Home Assistant ei tietenkään ole kaupallisten versioiden veroinen lähinnä ehkä siksi, että laiteyhteydet voivat tekniikasta riippuen pätkiä, jolloin ne putoavat pois järjestelmästä. Mutta esim. laadukkaat Zigbee- tai Zwave -laitteet pitävät kyllä hyvin yhteydet yllä.</description>
    </item>
    
    <item>
      <title>Älytelevision äänenvoimakkuuden rajoittaminen Home Assistantin avulla</title>
      <link>https://eddyshomepages.github.io/posts/alytelevision-aanenvoimakkuuden-rajoittaminen-home-assistantin-avulla/</link>
      <pubDate>Mon, 02 Jan 2023 00:00:00 +0000</pubDate>
      
      <guid>https://eddyshomepages.github.io/posts/alytelevision-aanenvoimakkuuden-rajoittaminen-home-assistantin-avulla/</guid>
      <description>Home Assistant on monikäyttöinen kotiautomaatiojärjestelmä, jonka tulin huomanneeksi, kun mietin, että miten voisin rajoittaa Samsungin älytelevision äänen voimakkuutta. Meillä kotona tuppasi käymään siten, että kiusalla äänen voimakkuutta nostettiin välillä lähes maksimiin, jonka vuoksi kyllästyin ja aloin miettimään ratkaisua tähän ongelmaan.
Valmistajan sovelluskaupasta ei apuja löytynyt, joten päätin kokeilla, että miten Home Assistant tässa onnistuu. Ja onnistuuhan se, vieläpä oikein hyvin.
Aluksi meidän täytyy lisätä älytelevio Home Assistantiin media playerinä, jonka Home Assistant yleensä tekee automaattisesti, mikäli TV on samassa verkossa.</description>
    </item>
    
    <item>
      <title>Auton lohkolämmittimen käynnistys automaattisesti haluttuun aikaan</title>
      <link>https://eddyshomepages.github.io/posts/auton-lammityspistorasian-kaynnistys-automaattisesti-haluttuun-aikaan/</link>
      <pubDate>Thu, 29 Dec 2022 00:00:00 +0000</pubDate>
      
      <guid>https://eddyshomepages.github.io/posts/auton-lammityspistorasian-kaynnistys-automaattisesti-haluttuun-aikaan/</guid>
      <description>Seuraavaksi ajattelin kirjoittaa tällä hetkellä melko ajankohtaisesta asiasta kuin auton lohkolämmittimen ajastuksen automatisointi. Tähän on löytyy erilaisia toteutuksia netistä vaikka kuinka paljon, mutta itselleni on riittänyt se, että olen voinut asettaa auton lämmitys- ja lähtöajan, jonka jälkeen Home Assistant on hoitanut lopun automaattisesti.
Minulla on käytössä myös erillinen autolämmitysrasia, jossa on kaksi erillistä pistorasiaa. Näistä toinen on kellon takana ja toinen on sellainen, johon tulee jatkuva virta. Varsinkin kellon käyttö on mielestäni tosi hankalaa ja kömpelöä, jonka vuoksi olen päätynyt tähän ohjattavaan pistorasiaan.</description>
    </item>
    
    <item>
      <title>Energian hinnan seurantaa Home Assistantilla, osa 2</title>
      <link>https://eddyshomepages.github.io/posts/energian-hinnan-seurantaa-home-assistantilla-osa-2/</link>
      <pubDate>Mon, 12 Dec 2022 00:00:00 +0000</pubDate>
      
      <guid>https://eddyshomepages.github.io/posts/energian-hinnan-seurantaa-home-assistantilla-osa-2/</guid>
      <description>Kirjoitin taannoin energian hinnan seurannasta Home Assistantilla ja käytössä minulla oli HACS:in kautta ladattava Nordpool -integraatio. Tämä konfiguraatio antoi spottisähkön hinnan arvonlisäverollisena, mutta nyt joulukuun -22 alusta alkaen arvonlisävero on laskenut käyttösähkön osalta 10%. Tätä muutosta Nordpool -integraatio ei osaa automaattisesti laskea, jolloin myöskin Home Assistantin laskema kustannustieto on liian suuri. Ja mikäli haluat lukea myös vanhan kirjoituksen, niin linkki on tässä.
Tämän vuoksi tein muutoksia aikaisempaan laskentaan siten, että Nordpool -integraatio antaa jatkossa spottihinnan arvonlisäverottomana ja arvonlisäveron laskenta tapahtuu Home Assistantin kautta.</description>
    </item>
    
    <item>
      <title>Sähkön hinnan määrittäminen kvartaaleittain Home Assistantilla</title>
      <link>https://eddyshomepages.github.io/posts/sahkon-hinnan-maarittaminen-kvartaaleittain-home-assistantilla/</link>
      <pubDate>Sat, 12 Nov 2022 00:00:00 +0000</pubDate>
      
      <guid>https://eddyshomepages.github.io/posts/sahkon-hinnan-maarittaminen-kvartaaleittain-home-assistantilla/</guid>
      <description>Edellisessä kirjoituksessa kirjoitin sensorien ja muuttujien luomisesta pörssisähkölle. Nyt ajattelin laittaa vielä jakoon myös vanhan konfiguraation, jossa voidaan antaa sähkön hinta kvartaaleittain sekä määrittää kvartaalit oman sähkösopimuksen mukaiseksi. Tässäkin tapauksessa voidaan sähkön kokonaishintasensori myös yhdistää Home Assistantin Energia-seurantaosioon.
Aluksi luomme tarvittavat muuttujat hinta- ja päivämäärätiedoille eli lisätään configration.yaml-tiedostoon seuraavat rivit
#configuration.yaml input_number: sahkon_hinta_q1: name: Hinta Q1 min: 0 max: 150 step: 0.01 initial: 0 icon: mdi:currency-eur unit_of_measurement: cnt/kWh mode: box sahkon_hinta_q2: name: Hinta Q2 min: 0 max: 150 step: 0.</description>
    </item>
    
    <item>
      <title>Energian hinnan seurantaa Home Assistantilla, osa 1</title>
      <link>https://eddyshomepages.github.io/posts/energian-hinnan-seurantaa-home-assistantilla/</link>
      <pubDate>Mon, 07 Nov 2022 00:00:00 +0000</pubDate>
      
      <guid>https://eddyshomepages.github.io/posts/energian-hinnan-seurantaa-home-assistantilla/</guid>
      <description>Edit: 12.12.2022 Energian laskenta päivitetty, uusi päivitetty kirjoitus löytyy linkin takaa.
Seuraavaksi ajattelin kirjoittaa päivän polttavasta aiheesta eli sähkön hinnasta. Minulla oli aikaisemmin kvartaaleittain vaihtuva sähkön hinta, mutta koska vanhan sähkösopimuksen hinta oli jo yli 50 cnt/kWh, tulin siihen tulokseen, että nyt olisi ehkä hyvä kuitenkin vaihtaa sopimus pörssisähköön, jolloin pystyn vaikuttamaan sähkön hintaan sentään jollakin tavalla. Nyt siis mennään pörssisähköllä ja käytössä on HACS:in kautta saatava Nordpool -integraatio, jonka kautta haetaan pörssisähkölle hinta.</description>
    </item>
    
    <item>
      <title>Zigbee2MQTT asentaminen Docker-Composen avulla</title>
      <link>https://eddyshomepages.github.io/posts/zigbee2mqtt-asentaminen-docker-composen-avulla/</link>
      <pubDate>Wed, 05 Oct 2022 00:00:00 +0000</pubDate>
      
      <guid>https://eddyshomepages.github.io/posts/zigbee2mqtt-asentaminen-docker-composen-avulla/</guid>
      <description>Jatketaan vielä Docker-Composen parissa ja seuraavaksi asennetaan Zigbee2MQTT Docker-Composen avulla. Meillä on siis Home Assistant ja Mosquitto -broker asennettuna Docker-Composen kautta, jonka vuoksi mm. Home Assistantin lisäosat eivät ole käytettävissä. Tätä kautta onnistuisi myös asentaa Zigbee2MQTT, mutta me asennamme sen toisella tapaan. Minulla on myös käytössä Conbee II zigbee -mokkula, joka toimii hyvin Zigbee2MQTT:n kanssa. Vaihtoehtoisesti voitaisiin käyttää myös deConz -ohjelmistoa, mutta itse olen tykästynyt Zigbee2MQTT:hen. Mikäli olen asentanut Home Assistantin oman käyttöjärjestelmän, löytyy deConz -lisäosa suoraan ohjelmakirjastosta.</description>
    </item>
    
    <item>
      <title>RuuviTag -antureiden lisääminen Home Assistantiin Ruuvitag Discoveryn avulla MQTT-protokollaa käyttäen</title>
      <link>https://eddyshomepages.github.io/posts/ruuvitag-antureiden-lisaaminen-home-assistantiin-ruuvitag-discoveryn-avulla-mqtt-protokollaa-kayttaen/</link>
      <pubDate>Wed, 21 Sep 2022 00:00:00 +0000</pubDate>
      
      <guid>https://eddyshomepages.github.io/posts/ruuvitag-antureiden-lisaaminen-home-assistantiin-ruuvitag-discoveryn-avulla-mqtt-protokollaa-kayttaen/</guid>
      <description>Lähtökohtaisesti meillä on Docker-Composen avulla asennettuna Home Assistant sekä Mosquitto -broker. Seuraavaksi lisäämme Home Assistanttin RuuviTag -antureita käyttäen MQTT -protokollaa ja siinä käytämme apuna Ruuvitag Discovery -ohjelmistoa.
RuuviTag on kotimainen tuote, joka toimii lämpötila-, kosteus-, ilmanpaine ja liike -anturina. RuuviTag toimii Bluetooth -yhteydellä ja se voidaan yhdistää esim. puhelimeen tai kuten tässä tapauksessa, myös Home Assistantiin tai muihin kotiautomaatiojärjestelmiin.
RuuviTagit voisi lisätä Home Assistanttiin myös erilaisilla lisäosilla, mutta me teemme sen Ruuvitag Discoveryn ja MQTT:n avulla.</description>
    </item>
    
    <item>
      <title>Home Assistantin asennus Docker-Composen avulla</title>
      <link>https://eddyshomepages.github.io/posts/home-assistantin-asennus-docker-composen-avulla/</link>
      <pubDate>Sun, 21 Aug 2022 00:00:00 +0000</pubDate>
      
      <guid>https://eddyshomepages.github.io/posts/home-assistantin-asennus-docker-composen-avulla/</guid>
      <description>Seuraavaksi päästään käsiksi yhteen lempiaiheistani eli kotiautomaatiojärjestelmät ja Home Assistant. Minulla itselläni on Home Assistant asennettuna Raspberry Pi 4 -tietokoneelle siten, että tietokoneessa on käyttöjärjestelmänä RaspberryPiOS ja Home Assistant on asennettu Docker-Composen avulla.
Docker -asennuksessa on mm. se haittapuoli, että nämä lisäosat eivät ole käytössä samalla tavalla kuin Home Assistantin omassa käyttöjärjestelmässä. Samoin myös varmuuskopiointi ei toimi samalla tavalla, mutta näihinkin löytyy kyllä kuitenkin ratkaisut. Mielestäni etuna Docker-asennuksessa on kuitenkin se, että tietokoneen resursseja voi helpommin käyttää myös muuhunkin.</description>
    </item>
    
  </channel>
</rss>
